<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pac1934: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pac1934
   &#160;<span id="projectnumber">2.0.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Main Page </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><hr  />
 <h1>Pac1934 click</h1>
<p>PAC1934 click carries the PAC1934 four channel DC power/energy monitor from Microchip. The click is designed to run on either 3.3V or 5V power supply. It communicates with the target microcontroller over an I2C interface.</p>
<p align="center"></p>
<p><img src="https://download.mikroe.com/images/click_for_ide/pac1934_click.png" alt="" height="300px" class="inline"/> </p>
<p><a href="https://www.mikroe.com/pac1934-click">click Product page</a></p>
<hr  />
<h4>Click library</h4>
<ul>
<li><b>Author</b> : MikroE Team</li>
<li><b>Date</b> : jan 2020.</li>
<li><b>Type</b> : I2C type</li>
</ul>
<h1>Software Support</h1>
<p>We provide a library for the Pac1934 Click as well as a demo application (example), developed using MikroElektronika <a href="https://shop.mikroe.com/compilers">compilers</a>. The demo can run on all the main MikroElektronika <a href="https://shop.mikroe.com/development-boards">development boards</a>.</p>
<p>Package can be downloaded/installed directly form compilers IDE(recommended way), or downloaded from our LibStock, or found on mikroE github account.</p>
<h2>Library Description</h2>
<blockquote class="doxtable">
<p>This library contains API for Pac1934 Click driver. </p>
</blockquote>
<h4>Standard key functions :</h4>
<ul>
<li>Config Object Initialization function. <blockquote class="doxtable">
<p>void pac1934_cfg_setup ( <a class="el" href="structpac1934__cfg__t.html" title="Click configuration structure definition.">pac1934_cfg_t</a> *cfg ); </p>
</blockquote>
</li>
<li>Initialization function. <blockquote class="doxtable">
<p>PAC1934_RETVAL pac1934_init ( <a class="el" href="structpac1934__t.html" title="Click ctx object definition.">pac1934_t</a> *ctx, <a class="el" href="structpac1934__cfg__t.html" title="Click configuration structure definition.">pac1934_cfg_t</a> *cfg ); </p>
</blockquote>
</li>
</ul>
<h4>Example key functions :</h4>
<ul>
<li>Write one byte function. <blockquote class="doxtable">
<p>void pac1934_write_byte ( <a class="el" href="structpac1934__t.html" title="Click ctx object definition.">pac1934_t</a> *ctx, uint8_t wr_addr, uint8_t wr_data ); </p>
</blockquote>
</li>
<li>Read one byte function. <blockquote class="doxtable">
<p>uint8_t pac1934_read_byte ( <a class="el" href="structpac1934__t.html" title="Click ctx object definition.">pac1934_t</a> *ctx, uint8_t rd_addr ); </p>
</blockquote>
</li>
<li>Send command function. <blockquote class="doxtable">
<p>void pac1934_send_command ( <a class="el" href="structpac1934__t.html" title="Click ctx object definition.">pac1934_t</a> *ctx, uint8_t wr_cmd ); </p>
</blockquote>
</li>
</ul>
<h2>Examples Description</h2>
<blockquote class="doxtable">
<p>This application measures the voltage. </p>
</blockquote>
<p><b>The demo application is composed of two sections :</b></p>
<h3>Application Init</h3>
<blockquote class="doxtable">
<p>Initalizes device, enables the device and makes an initial log. </p>
</blockquote>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="main_8c.html#a0e95431f48ee71c1040217b94766ffcf">application_init</a> ( <span class="keywordtype">void</span> )</div>
<div class="line">{</div>
<div class="line">    log_cfg_t log_cfg;</div>
<div class="line">    <a class="code" href="structpac1934__cfg__t.html">pac1934_cfg_t</a> cfg;</div>
<div class="line"> </div>
<div class="line">    LOG_MAP_USB_UART( log_cfg );</div>
<div class="line">    log_init( &amp;logger, &amp;log_cfg );</div>
<div class="line">    log_info( &amp;logger, <span class="stringliteral">&quot;---- Application Init ----&quot;</span> );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//  Click initialization.</span></div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__public__function.html#gaa45f8ed83796840e2b53802b7843e123">pac1934_cfg_setup</a>( &amp;cfg );</div>
<div class="line">    <a class="code" href="group__map__mikrobus.html#ga72af6a51a589b86534baf6cf12bbff21">PAC1934_MAP_MIKROBUS</a>( cfg, MIKROBUS_1 );</div>
<div class="line">    <a class="code" href="group__public__function.html#ga22e8be179f46ab0cd4f53aee5947352c">pac1934_init</a>( &amp;pac1934, &amp;cfg );</div>
<div class="line">}</div>
</div><!-- fragment --><h3>Application Task</h3>
<blockquote class="doxtable">
<p>This is an example that shows the most important functions that PAC1934 click has, it mesures voltage, current, power and energy. </p>
</blockquote>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="main_8c.html#a362899c9f270bb296179185fd96b878e">application_task</a> ( <span class="keywordtype">void</span> )</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">float</span> read_value;</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="group__public__function.html#gaf859c875bc92c51114246b13879da390">pac1934_dev_reset</a>( &amp;pac1934 );</div>
<div class="line">    <a class="code" href="group__public__function.html#ga8100fe60670a2957f184539a84155003">pac1934_write_byte</a>( &amp;pac1934, <a class="code" href="group__channel__disable__and__other__settings.html#ga2d0199663a033a06583dd453a09a9e0c">PAC1934_CHANNEL_DIS</a>, <a class="code" href="group__channel__disable__and__other__settings.html#gaede38393bde1bdccff97f871817a72ac">PAC1934_CHANNEL_DIS_ALL_CHA</a> );</div>
<div class="line">    <a class="code" href="group__public__function.html#ga8100fe60670a2957f184539a84155003">pac1934_write_byte</a>( &amp;pac1934, <a class="code" href="group__control__register.html#ga92f28725bf281463b7b9a6c5f0ce4461">PAC1934_CTRL_REG</a>, <a class="code" href="group__control__register.html#ga75f8c75fc937b214982edee27f8f1b43">PAC1934_CTRL_SAMPLE_RATE_8</a> | <a class="code" href="group__control__register.html#ga9c64333a0b8dc5610ab2cf944f5af679">PAC1934_CTRL_SINGLE_SHOT_MODE</a> );</div>
<div class="line">    Delay_ms( 100 );</div>
<div class="line">    <a class="code" href="group__public__function.html#ga92c65e4e17eb0798c568270108725f80">pac1934_send_command</a>( &amp;pac1934, <a class="code" href="group__refresh__command.html#gad19f5d2726ccdc08f3269efcbade5d18">PAC1934_REFRESH_CMD</a> );</div>
<div class="line">    </div>
<div class="line">    read_value = <a class="code" href="group__public__function.html#ga20bb569597ab6fb5e68a612831032f5f">pac1934_measure_voltage</a>( &amp;pac1934, 1 );</div>
<div class="line">    log_printf( &amp;logger, <span class="stringliteral">&quot;Voltage : %.2f V\r\n&quot;</span>, read_value );</div>
<div class="line"> </div>
<div class="line">    read_value = <a class="code" href="group__public__function.html#ga3c1ee6034d98122f9dd811b3edc47354">pac1934_measure_current</a>( &amp;pac1934, 1 );</div>
<div class="line">    log_printf( &amp;logger, <span class="stringliteral">&quot;Amperage :  %.2f mA\r\n&quot;</span>, read_value );</div>
<div class="line"> </div>
<div class="line">    read_value = <a class="code" href="group__public__function.html#ga6b6aad504c504401f60daab54b74f6ba">pac1934_measure_power</a>( &amp;pac1934, 1 );</div>
<div class="line">    log_printf( &amp;logger, <span class="stringliteral">&quot;Power : %.2f W\r\n&quot;</span>, read_value );</div>
<div class="line">    </div>
<div class="line">    read_value = <a class="code" href="group__public__function.html#ga4970409b9f7c8f2a8fe661a017e0de19">pac1934_measure_energy</a>( &amp;pac1934, 1, 8 );</div>
<div class="line">    log_printf( &amp;logger, <span class="stringliteral">&quot;Energy :  %.2f J \r\n&quot;</span>, read_value );</div>
<div class="line">    log_printf( &amp;logger, <span class="stringliteral">&quot;--------------------- \r\n&quot;</span> );</div>
<div class="line">    Delay_ms( 1000 );</div>
<div class="line">}  </div>
</div><!-- fragment --><p>The full application code, and ready to use projects can be installed directly form compilers IDE(recommneded) or found on LibStock page or mikroE GitHub accaunt.</p>
<p><b>Other mikroE Libraries used in the example:</b></p>
<ul>
<li>MikroSDK.Board</li>
<li>MikroSDK.Log</li>
<li>Click.Pac1934</li>
</ul>
<p><b>Additional notes and informations</b></p>
<p>Depending on the development board you are using, you may need <a href="https://shop.mikroe.com/usb-uart-click">USB UART click</a>, <a href="https://shop.mikroe.com/usb-uart-2-click">USB UART 2 Click</a> or <a href="https://shop.mikroe.com/rs232-click">RS232 Click</a> to connect to your PC, for development systems with no UART to USB interface available on the board. The terminal available in all Mikroelektronika <a href="https://shop.mikroe.com/compilers">compilers</a>, or any other terminal application of your choice, can be used to read the message.</p>
<hr  />
 </div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="ttc" id="agroup__public__function_html_ga22e8be179f46ab0cd4f53aee5947352c"><div class="ttname"><a href="group__public__function.html#ga22e8be179f46ab0cd4f53aee5947352c">pac1934_init</a></div><div class="ttdeci">PAC1934_RETVAL pac1934_init(pac1934_t *ctx, pac1934_cfg_t *cfg)</div><div class="ttdoc">Initialization function.</div></div>
<div class="ttc" id="agroup__public__function_html_ga8100fe60670a2957f184539a84155003"><div class="ttname"><a href="group__public__function.html#ga8100fe60670a2957f184539a84155003">pac1934_write_byte</a></div><div class="ttdeci">void pac1934_write_byte(pac1934_t *ctx, uint8_t wr_addr, uint8_t wr_data)</div><div class="ttdoc">Write one byte function.</div></div>
<div class="ttc" id="agroup__refresh__command_html_gad19f5d2726ccdc08f3269efcbade5d18"><div class="ttname"><a href="group__refresh__command.html#gad19f5d2726ccdc08f3269efcbade5d18">PAC1934_REFRESH_CMD</a></div><div class="ttdeci">#define PAC1934_REFRESH_CMD</div><div class="ttdef"><b>Definition:</b> pac1934.h:90</div></div>
<div class="ttc" id="agroup__public__function_html_ga92c65e4e17eb0798c568270108725f80"><div class="ttname"><a href="group__public__function.html#ga92c65e4e17eb0798c568270108725f80">pac1934_send_command</a></div><div class="ttdeci">void pac1934_send_command(pac1934_t *ctx, uint8_t wr_cmd)</div><div class="ttdoc">Send Command.</div></div>
<div class="ttc" id="astructpac1934__cfg__t_html"><div class="ttname"><a href="structpac1934__cfg__t.html">pac1934_cfg_t</a></div><div class="ttdoc">Click configuration structure definition.</div><div class="ttdef"><b>Definition:</b> pac1934.h:308</div></div>
<div class="ttc" id="agroup__channel__disable__and__other__settings_html_ga2d0199663a033a06583dd453a09a9e0c"><div class="ttname"><a href="group__channel__disable__and__other__settings.html#ga2d0199663a033a06583dd453a09a9e0c">PAC1934_CHANNEL_DIS</a></div><div class="ttdeci">#define PAC1934_CHANNEL_DIS</div><div class="ttdef"><b>Definition:</b> pac1934.h:177</div></div>
<div class="ttc" id="amain_8c_html_a362899c9f270bb296179185fd96b878e"><div class="ttname"><a href="main_8c.html#a362899c9f270bb296179185fd96b878e">application_task</a></div><div class="ttdeci">void application_task(void)</div><div class="ttdef"><b>Definition:</b> main.c:58</div></div>
<div class="ttc" id="agroup__channel__disable__and__other__settings_html_gaede38393bde1bdccff97f871817a72ac"><div class="ttname"><a href="group__channel__disable__and__other__settings.html#gaede38393bde1bdccff97f871817a72ac">PAC1934_CHANNEL_DIS_ALL_CHA</a></div><div class="ttdeci">#define PAC1934_CHANNEL_DIS_ALL_CHA</div><div class="ttdef"><b>Definition:</b> pac1934.h:178</div></div>
<div class="ttc" id="agroup__control__register_html_ga75f8c75fc937b214982edee27f8f1b43"><div class="ttname"><a href="group__control__register.html#ga75f8c75fc937b214982edee27f8f1b43">PAC1934_CTRL_SAMPLE_RATE_8</a></div><div class="ttdeci">#define PAC1934_CTRL_SAMPLE_RATE_8</div><div class="ttdef"><b>Definition:</b> pac1934.h:99</div></div>
<div class="ttc" id="agroup__control__register_html_ga92f28725bf281463b7b9a6c5f0ce4461"><div class="ttname"><a href="group__control__register.html#ga92f28725bf281463b7b9a6c5f0ce4461">PAC1934_CTRL_REG</a></div><div class="ttdeci">#define PAC1934_CTRL_REG</div><div class="ttdef"><b>Definition:</b> pac1934.h:97</div></div>
<div class="ttc" id="agroup__map__mikrobus_html_ga72af6a51a589b86534baf6cf12bbff21"><div class="ttname"><a href="group__map__mikrobus.html#ga72af6a51a589b86534baf6cf12bbff21">PAC1934_MAP_MIKROBUS</a></div><div class="ttdeci">#define PAC1934_MAP_MIKROBUS(cfg, mikrobus)</div><div class="ttdef"><b>Definition:</b> pac1934.h:62</div></div>
<div class="ttc" id="agroup__public__function_html_gaa45f8ed83796840e2b53802b7843e123"><div class="ttname"><a href="group__public__function.html#gaa45f8ed83796840e2b53802b7843e123">pac1934_cfg_setup</a></div><div class="ttdeci">void pac1934_cfg_setup(pac1934_cfg_t *cfg)</div><div class="ttdoc">Config Object Initialization function.</div></div>
<div class="ttc" id="agroup__public__function_html_ga6b6aad504c504401f60daab54b74f6ba"><div class="ttname"><a href="group__public__function.html#ga6b6aad504c504401f60daab54b74f6ba">pac1934_measure_power</a></div><div class="ttdeci">float pac1934_measure_power(pac1934_t *ctx, uint8_t channel)</div><div class="ttdoc">Measure Power function.</div></div>
<div class="ttc" id="agroup__public__function_html_ga3c1ee6034d98122f9dd811b3edc47354"><div class="ttname"><a href="group__public__function.html#ga3c1ee6034d98122f9dd811b3edc47354">pac1934_measure_current</a></div><div class="ttdeci">float pac1934_measure_current(pac1934_t *ctx, uint8_t channel)</div><div class="ttdoc">Measure Current function.</div></div>
<div class="ttc" id="agroup__public__function_html_gaf859c875bc92c51114246b13879da390"><div class="ttname"><a href="group__public__function.html#gaf859c875bc92c51114246b13879da390">pac1934_dev_reset</a></div><div class="ttdeci">void pac1934_dev_reset(pac1934_t *ctx)</div><div class="ttdoc">Reset device function.</div></div>
<div class="ttc" id="amain_8c_html_a0e95431f48ee71c1040217b94766ffcf"><div class="ttname"><a href="main_8c.html#a0e95431f48ee71c1040217b94766ffcf">application_init</a></div><div class="ttdeci">void application_init(void)</div><div class="ttdef"><b>Definition:</b> main.c:33</div></div>
<div class="ttc" id="agroup__public__function_html_ga20bb569597ab6fb5e68a612831032f5f"><div class="ttname"><a href="group__public__function.html#ga20bb569597ab6fb5e68a612831032f5f">pac1934_measure_voltage</a></div><div class="ttdeci">float pac1934_measure_voltage(pac1934_t *ctx, uint8_t channel)</div><div class="ttdoc">Measure Voltage function.</div></div>
<div class="ttc" id="agroup__public__function_html_ga4970409b9f7c8f2a8fe661a017e0de19"><div class="ttname"><a href="group__public__function.html#ga4970409b9f7c8f2a8fe661a017e0de19">pac1934_measure_energy</a></div><div class="ttdeci">float pac1934_measure_energy(pac1934_t *ctx, uint8_t chann, uint16_t samp_rate)</div><div class="ttdoc">Measure Energy function.</div></div>
<div class="ttc" id="agroup__control__register_html_ga9c64333a0b8dc5610ab2cf944f5af679"><div class="ttname"><a href="group__control__register.html#ga9c64333a0b8dc5610ab2cf944f5af679">PAC1934_CTRL_SINGLE_SHOT_MODE</a></div><div class="ttdeci">#define PAC1934_CTRL_SINGLE_SHOT_MODE</div><div class="ttdef"><b>Definition:</b> pac1934.h:103</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
